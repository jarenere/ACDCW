<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">

<html>

<head>

<title>Dreamcast Programming - Serial upload slave</title>

</head>

<body vlink="#6677cc" alink="red" link="#6699cc" text="white" bgcolor="black">
<top>

<img alt="" align="right" src="dc_mark.gif">

<p><img alt="Serial upload slave" valign="top" src="../_internal/graphic_text!0/asw4kq4vlpnfxtobd3366p2z0ge0klc$sgaw69bxoiu0cdmc079458bd1akn5ap" style="border: none;" height="43" width="278" /></p>


The serial upload slave is a small program that allows you to upload and
run code on the Dreamcast through its serial interface.  Using a
<a href="serifc.html">PC serial adaptor</a> programs can thus be
cross-developed and run from a computer on the standard Dreamcast unit.
The upload slave itself can be booted from a <a href="cdr.html">CD-R</a>
disc.  Please note that this software is of interrest only to people
actually able to compile their own Dreamcast programs.


<p>
<b>2000-06-27 13:52</b>: By an unfortunate accident, the first version that
was publised here about 12 hours ago was only bootable on Japanese systems.
Sorry about that.  The one available now should boot on Japanese, US and
European systems.
</p>


<br clear="right">



<p>

<p><img alt="Booting the serial upload slave" valign="top" src="../_internal/graphic_text!0/hlcfhu1cyw2cyj7k6g8xd5wjq7q2w5y$m5oayh2fd5g5kmidbn29wsc6xxqt4xe" style="border: none;" height="23" width="251" /></p>

First, <a href="files/serial_slave.tar.gz">download</a> the serial upload
slave and burn it onto a CD-R using the instructions available
<a href="cdr.html">elsewhere</a>.  The boot the DC from this CD-R.  You
should see the familiar SEGA logo appear, and then the sides of the screen
should turn blue.  This is the indication that the serial upload slave is
active.
</p>


<!--
Benoit's site is gone, hide link until it resurfaces...

<p>
If you're having trouble burning the serial slave disc the usual way
because you're using W*ndows, you can find some "images" for various W*ndows
CD burning programs on <a href="http://www3.sympatico.ca/fulg/">Benoit Miller's site</a>.
</p>
-->


<p>

<p><img alt="Communicating with the serial upload slave" valign="top" src="../_internal/graphic_text!0/hlcfhu1cyw2cyj7k6g8xd5wjq7q2w5y$679ks7g0lwsmb24xf17srsmouky7lnw" style="border: none;" height="23" width="357" /></p>

To speak with the serial upload slave, you should set your serial port to
57600 bps, 8N1, hardware flow control.  The slave accepts command lines
terminated with LF or CR+LF, and responds to each processed command with
the prompt "<tt>&gt;</tt>".  If it has any trouble with a command, it
also responsed with "<tt>?</tt>" followed by a letter describing the nature
of the problem:

<ul>


<li><tt>C</tt> - Unknown command</li>


<li><tt>S</tt> - Syntax error</li>


<li><tt>X</tt> - Checksum error</li>


<li><tt>N</tt> - Command not implemented</li>


</ul>

</p>



<p>

<p><img alt="Supported commands" valign="top" src="../_internal/graphic_text!0/hlcfhu1cyw2cyj7k6g8xd5wjq7q2w5y$bybfv7qsh2smcw5xy1db161vgdcqw2s" style="border: none;" height="23" width="183" /></p>

Empty lines are accepted as the empty command.  Furthermore, two
non-empty commands are accepted:

<dl>


<dt><tt>?</tt> - Query version</dt>


<dd>The slave will respond to the "<tt>?</tt>" command with it's
protocol version.  The current version is <tt>V103</tt>.</dd>


<dt><tt>S</tt> - SREC entry</dt>


<dd>Lines beginning with an S will be interpreted as <a href="http://www.ndsu.nodak.edu/instruct/tareski/373f98/notes/srecord.htm">Motorola SREC</a> records.
Currently, only S0, S3 and S7 are supported, as these are the only ones
generated by GNU <tt>ld</tt>.  When an S7 is received, the slave responds
with "OK" and the uploaded program is started (the borders will go red to
indicate this).  If the program returns, the border should go blue again
and the slave print "<tt>+++</tt>" followed by a new prompt.</dd>


</dl>

</p>



<hr>
<a href="http://www.roxen.com/"><img border="0" alt="Powered by Roxen" align="right" src="../internal-roxen-power-small-white" height="40" width="40" /></a><a href="index.html">Dreamcast Programming</a> by <i><a href="mailto:marcus@mc.pp.se">Marcus Comstedt</a></i><br>

<!-- Created: Tue Jun 27 01:29:22 MEST 2000 -->
<!-- hhmts start -->
Last modified: Thu Jun 13 19:51:57 MEST 2002
<!-- hhmts end -->

</top>
</body>

</html>

